!function(a,b,c){"use strict";function d(a,b){var c=null;return function(){var d=this,e=arguments;null===c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}}var e=function(){var a={};return function(b){if(a[b]!==c)return a[b];var d=document.createElement("div"),e=d.style,f=b.charAt(0).toUpperCase()+b.slice(1),g=["webkit","moz","ms","o"],h=(b+" "+g.join(f+" ")+f).split(" ");for(var i in h)if(h[i]in e)return a[b]=h[i];return a[b]=!1}}(),f="http://www.w3.org/2000/svg",g=function(){var a;return function(){if(a!==c)return a;var b=document.createElement("div");return b.innerHTML="<svg/>",a=b.firstChild&&b.firstChild.namespaceURI===f}}(),h=a(b),i=e("transform"),j={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!1,touch:!0,nav:!1,blurby:!0,buttons:!0,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},k={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},l=new RegExp("\\b("+k.itemCurrent+"|"+k.itemPast+"|"+k.itemFuture+")(.*?)(\\s|$)","g"),m=new RegExp("\\s\\s+","g");a.fn.flipster=function(b){var e="string"==typeof b;if(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=a(this).data("methods");return c[b]?c[b].apply(this,n):this})}var o=a.extend({},j,b);return this.each(function(){function z(a){var b="next"===a?o.buttonNext:o.buttonPrev;return"custom"!==o.buttons&&g?'<svg viewBox="0 0 13 20" xmlns="'+f+'" aria-labelledby="title"><title>'+b+'</title><polyline points="10,3 3,10 10,17"'+("next"===a?' transform="rotate(180 6.5,10)"':"")+"/></svg>":b}function A(b){return b=b||"next",a('<button class="'+k.button+" "+("next"===b?k.buttonNext:k.buttonPrev)+'" role="button" />').html(z(b)).on("click",function(a){K(b),a.preventDefault()})}function B(){o.buttons&&q.length>1&&(b.find("."+k.button).remove(),b.append(A("prev"),A("next")))}function C(){var c={};!o.nav||q.length<=1||(u&&u.remove(),u=a('<ul class="'+k.nav+'" role="navigation" />'),w=a(""),q.each(function(b){var d=a(this),e=d.data("flip-category"),f=d.data("flip-title")||d.attr("title")||b,g=a('<a href="#" class="'+k.navLink+'">'+f+"</a>").data("index",b);if(w=w.add(g),e){if(!c[e]){var h=a('<li class="'+k.navItem+" "+k.navCategory+'">'),i=a('<a href="#" class="'+k.navLink+" "+k.navCategoryLink+'" data-flip-category="'+e+'">'+e+"</a>").data("category",e).data("index",b);c[e]=a('<ul class="'+k.navChild+'" />'),w=w.add(i),h.append(i,c[e]).appendTo(u)}c[e].append(g)}else u.append(g);g.wrap('<li class="'+k.navItem+'">')}),u.on("click","a",function(b){var c=a(this).data("index");c>=0&&(K(c),b.preventDefault())}),"after"===o.nav?b.append(u):b.prepend(u),v=u.find("."+k.navItem))}function D(){if(o.nav){var b=s.data("flip-category");v.removeClass(k.navCurrent),w.filter(function(){return a(this).data("index")===t||b&&a(this).data("category")===b}).parent().addClass(k.navCurrent)}}function E(){if(o.blurby){var b=s.data("flip-title"),c=s.data("flip-blurb");a("#portPreview").text(b),a("#portWords").text(c)}}function F(){b.css("transition","none"),j.css("transition","none"),q.css("transition","none")}function G(){b.css("transition",""),j.css("transition",""),q.css("transition","")}function H(){var c,b=0;return q.each(function(){c=a(this).height(),c>b&&(b=c)}),b}function I(b){return b&&F(),n=j.width(),j.height(H()),n?(p&&(clearInterval(p),p=!1),void q.each(function(c){var e,f,d=a(this);d.attr("class",function(a,b){return b&&b.replace(l,"").replace(m," ")}),e=d.outerWidth(),0!==o.spacing&&d.css("margin-right",e*o.spacing+"px"),f=d.position().left,r[c]=-1*(f+e/2-n/2),c===q.length-1&&(J(),b&&setTimeout(G,1))})):void(p=p||setInterval(function(){I(b)},500))}function J(){var d,e,f,b=q.length;q.each(function(c){d=a(this),e=" ",c===t?(e+=k.itemCurrent,f=b+1):c<t?(e+=k.itemPast+" "+k.itemPast+"-"+(t-c),f=c):(e+=k.itemFuture+" "+k.itemFuture+"-"+(c-t),f=b-c),d.css("z-index",f).attr("class",function(a,b){return b&&b.replace(l,"").replace(m," ")+e})}),t>=0&&(n&&r[t]!==c||I(!0),i?j.css("transform","translateX("+r[t]+"px)"):j.css({left:r[t]+"px"})),D(),E()}function K(a){var d=t;if(!(q.length<=1))return"prev"===a?t>0?t--:o.loop&&(t=q.length-1):"next"===a?t<q.length-1?t++:o.loop&&(t=0):"number"==typeof a?t=a:a!==c&&(t=q.index(a)),s=q.eq(t),t!==d&&o.onItemSwitch&&o.onItemSwitch.call(b,q[t],q[d]),J(),b}function L(a){return o.autoplay=a||o.autoplay,clearInterval(x),x=setInterval(function(){var a=t;K("next"),a!==t||o.loop||clearInterval(x)},o.autoplay),b}function M(){return clearInterval(x),x=0,b}function N(a){return M(),o.autoplay&&a&&(x=-1),b}function O(){I(!0),b.hide().css("visibility","").addClass(k.active).fadeIn(o.fadeIn)}function P(){if(j=b.find(o.itemContainer).addClass(k.container),q=j.find(o.itemSelector),!(q.length<=1))return q.addClass(k.item).each(function(){var b=a(this);b.children("."+k.itemContent).length||b.wrapInner('<div class="'+k.itemContent+'" />')}),o.click&&q.on("click.flipster touchend.flipster",function(b){y||(a(this).hasClass(k.itemCurrent)||b.preventDefault(),K(this))}),B(),C(),t>=0&&K(t),b}function Q(a){o.keyboard&&(a[0].tabIndex=0,a.on("keydown.flipster",d(function(a){var b=a.which;37!==b&&39!==b||(K(37===b?"prev":"next"),a.preventDefault())},250,!0)))}function R(a){if(o.scrollwheel){var g,i,b=!1,c=0,e=0,f=0;a.on("mousewheel.flipster wheel.flipster",function(){b=!0}).on("mousewheel.flipster wheel.flipster",d(function(a){clearTimeout(e),e=setTimeout(function(){c=0,f=0},300),a=a.originalEvent,f+=a.wheelDelta||(a.deltaY+a.deltaX)*-1,Math.abs(f)<25||(c++,g=f>0?"prev":"next",i!==g&&(c=0),i=g,(c<6||c%3===0)&&K(g),f=0)},50)),h.on("mousewheel.flipster wheel.flipster",function(a){b&&(a.preventDefault(),b=!1)})}}function S(a){if(o.touch){var e,f,g,h,b=!1,c=d(K,300);a.on({"touchstart.flipster":function(a){a=a.originalEvent,y=a.touches?a.touches[0].clientX:a.clientX,b=a.touches?a.touches[0].clientY:a.clientY},"touchmove.flipster":d(function(a){y!==!1&&(a=a.originalEvent,e=a.touches?a.touches[0].clientX:a.clientX,f=a.touches?a.touches[0].clientY:a.clientY,g=f-b,h=e-y,Math.abs(g)<100&&Math.abs(h)>=30&&(c(h<0?"next":"prev"),y=e,a.preventDefault()))},100),"touchend.flipster touchcancel.flipster ":function(){y=!1}})}}function T(){var a;if(b.css("visibility","hidden"),P(),q.length<=1)return void b.css("visibility","");a=!!o.style&&"flipster--"+o.style.split(" ").join(" flipster--"),b.addClass([k.main,i?"flipster--transform":" flipster--no-transform",a,o.click?"flipster--click":""].join(" ")),o.start&&(t="center"===o.start?Math.floor(q.length/2):o.start),K(t);var c=b.find("img");if(c.length){var e=0;c.on("load",function(){e++,e>=c.length&&O()}),setTimeout(O,750)}else O();h.on("resize.flipster",d(I,400)),o.autoplay&&L(),o.pauseOnHover&&j.on("mouseenter.flipster",function(){x?N(!0):M()}).on("mouseleave.flipster",function(){x===-1&&L()}),Q(b),R(j),S(j)}var e,j,n,p,q,s,u,v,w,b=a(this),r=[],t=0,x=!1,y=!1;e={jump:K,next:function(){return K("next")},prev:function(){return K("prev")},play:L,stop:M,pause:N,index:P},b.data("methods",e),b.hasClass(k.active)||T()})}}(jQuery,window);